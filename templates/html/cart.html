{% extends 'template.html' %}
{% load static %}
{% block extrablock %}
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="{% static 'style/cart_style.css' %}">
    <script type="text/javascript" src="{% static 'script/cart_script.js' %}">window.alert("Connected")</script>
{% endblock %}
{% block title %}l'encore {{ request.path|slice:"1:" }}{% endblock %}
{% block content %}

    <div id="center_part">
        {% if items.first != None %}
            {% for item in items %}
                {% with product=item.item %}
                    <div class="basket_element" id="item_first">
                        <div class="basket_img">
                            <img src="{% static 'img/upload/' %}{{ product.image|slice:'7:' }}" alt="Bag">
                        </div>

                        <div class="basket_text" style="margin-left: 3%">
                            <p>{{ product.brand }} {{ product.name }}</p>
                        </div>

                        <div class="counter" style="margin-left: 5%">
                            <input type="number" name="Quantity" id="counter_value_first" value={{ item.count }} min="1"
                                   onchange="location.href='/change_count/'+ {{ product.id }};">
                        </div>

                        <div class="basket_price" style="margin-left: 8%">
                            <p id="price_value_first">One item: {{ product.price }}</p>
                            <p>KZT</p>
                        </div>

                        <div class="cross" style="margin-left: auto; margin-right: 5%">
                            <a href={% url 'delete_view' product.id %}>
                                <i class="fas fa-trash" onclick="hideItems('first')"></i>
                            </a>
                        </div>
                    </div>
                {% endwith %}
            {% endfor %}

            <div id="total_overall">
                <p style="margin-right: 2%; margin-left: auto;">Total:</p>
                <p style="margin-right: 1%;" id="price">{{ total }}</p>
                <p>KZT</p>
            </div>

            <div style="text-align: center; margin-bottom: 3%;">
                <button class="btn btn-outline-dark" id="proceed">Proceed to payment</button>
            </div>

            <div class="hidden">
                <div style="margin-bottom: 1%;">
                    <p>Choose date of shipping:</p>
                    <input type="date" id="shippingDate">
                </div>

                <div style="margin-bottom: 1%; text-align: center;">
                    <p>Method of delivery:</p>
                    <input type="radio" id="no_contact" name="group" value="Courier">
                    <label for="no_contact" class="radio_type">Courier delivery</label>
                    <br>
                    <input type="radio" id="pick" name="group" value="Pick up">
                    <label for="pick" class="radio_type">Pick up from post</label>
                    <br>
                </div>

                <div>
                    <p>Insert your address:</p>
                    <input type="text" placeholder="Address">
                </div>

                <div style="margin-top: 1%;">
                    <input type="checkbox" name="Terms" id="terms">
                    <label for="terms">Agree to the terms and conditions</label>
                </div>

                <div style="margin-top: 1%;">
                    <button>Order</button>
                </div>
            </div>
        {% else %}
            <h1 style="text-align: center; margin-block: 5%">Your cart is empty!</h1>
        {% endif %}
    </div>
{% endblock %}
