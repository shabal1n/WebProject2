{% extends 'template.html' %}
{% load static %}
{% block extrablock %}
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="{% static 'style/cart_style.css' %}">
    <script type="text/javascript" src="{% static 'script/cart_script.js' %}">window.alert("Connected")</script>
{% endblock %}
{% block title %}l'encore {{ request.path|slice:"1:" }}{% endblock %}
{% block content %}

    <div id="center_part">
        {% if items.first != None %}
            {% for item in items %}
                {% with product=item.item %}
                    <div class="basket_element" id="item_first">
                        <div class="basket_img">
                            <img src="{% static 'img/upload/' %}{{ product.image|slice:'7:' }}" alt="Bag">
                        </div>

                        <div class="basket_text" style="margin-left: 3%">
                            <p>{{ product.brand }} {{ product.name }}</p>
                        </div>

                        <div class="counter" style="margin-left: 5%">
                            <p>{{ item.count }}</p>
                        </div>

                        <div class="basket_price" style="margin-left: 8%">
                            <p id="price_value_first">One item: {{ product.price }}</p>
                            <p>KZT</p>
                        </div>
                    </div>
                {% endwith %}
            {% endfor %}

            <div id="total_overall">
                <p style="margin-right: 2%; margin-left: auto;">Total:</p>
                <p style="margin-right: 1%;" id="price">{{ total }}</p>
                <p>KZT</p>
            </div>

            <div class="payment" style="display: flex; flex-wrap: wrap; text-align: left; margin-left: 5%">
                <div style="margin-bottom: 6%; margin-inline: 6%">
                    <p>Choose date of shipping:</p>
                    <input type="date" id="shippingDate">
                </div>

                <div style="margin-inline: 6%; text-align: left; width: fit-content; margin-bottom: 6%">
                    <p>Method of delivery:</p>
                    {% for foo in deliveries %}
                        <input type="radio" id="no_contact" name="group" value={{ foo }}>
                        <label for="no_contact" class="radio_type">{{ foo }}</label>
                        <br>
                    {% endfor %}
                </div>

                <div style="margin-bottom: 6%; margin-inline: 6%">
                    <p>Insert your address:</p>
                    <input type="text" placeholder="Address">
                </div>
            </div>

            <div style="display: block; text-align: center">
                <div style="margin-bottom: 2%;">
                    <input type="checkbox" name="Terms" id="terms">
                    <label for="terms">Agree to the terms and conditions</label>
                </div>

                <div style="margin-bottom: 3%">
                    <button>Order</button>
                </div>
            </div>
        {% else %}
            <h1 style="text-align: center; margin-block: 5%">Your cart is empty!</h1>
        {% endif %}
    </div>
{% endblock %}
